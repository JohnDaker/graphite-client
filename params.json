{"name":"Graphite-client","tagline":"Node.js client for Graphite","body":"# graphite-client\r\n\r\nNode.js client for Graphite\r\n\r\n##Install\r\n```\r\n$ npm install graphite-client\r\n```\r\n\r\n## Usage\r\n###Create instance\r\n```js\r\nvar Graphite = require('graphite-client');\r\n\r\nvar graphite = new Graphite(serverHost, 2003, 'UTF-8', 3000, function() {\r\n  log.info(\"Graphite server connection timeout\");\r\n});\r\n```\r\nThe client tries to reconnect on connection timeout\r\n\r\n###Listen fot the underline socket events\r\n```js\r\ngraphite.on('end', function() {\r\n  log.info('Graphite client disconnected');\r\n});\r\n\r\ngraphite.on('error', function(error) {\r\n  log.info('Graphite connection failure. ' + error);\r\n});\r\n```\r\n\r\n###Connect to the graphite server\r\n```js\r\ngraphite.connect(function() { //'connect' listener\r\n  log.info('Connected to Graphite server');\r\n});\r\n```\r\n\r\n###Write to the server\r\n```js\r\nvar metrics = {\r\n  'pre1' : {\r\n    'pre2' : {\r\n      'key1' : 'value1',\r\n      'key2' : 'value2',\r\n    },\r\n  },\r\n  'key3' : 'value3'\r\n};\r\n    \r\ngraphite.write(metrics, Date.now(), function(err) {\r\n  log.warn(\"Failed to write metrics to metrics server. err: \" + err)\r\n});\r\n```\r\nAssuming the current time is Jul 13 2015 00:00:00 UTC (1436745600 in sec Unix Epoch Time) The folliwng data will be send to the server\r\n```\r\npre1.pre2.key1 value1 1436745600\r\npre1.pre2.key2 value2 1436745600\r\nkey3 value3 1436745600\r\n```\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}